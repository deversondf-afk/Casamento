<!DOCTYPE html>
<html>
<head>
    <title>Enviar Foto para o Drive</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 50px; }
        #status { margin-top: 20px; color: blue; }
    </style>
</head>
<body>
    <h2>Upload Direto para o Google Drive</h2>
    <input type="file" id="arquivo" accept="image/*">
    <br>
    <button onclick="fazerUpload()">Enviar Foto</button>
    <p id="status"></p>

    <script>
        const SCRIPT_URL = "COLE_AQUI_A_URL_DO_SEU_WEB_APP_DO_GOOGLE";

        function fazerUpload() {
            const fileInput = document.getElementById('arquivo');
            const status = document.getElementById('status');
            
            if (fileInput.files.length === 0) {
                alert("Por favor, selecione uma foto.");
                return;
            }

            const file = fileInput.files[0];
            const reader = new FileReader();
            status.innerText = "Enviando... aguarde.";

            reader.onload = function(e) {
                const base64Data = e.target.result.split(',')[1];
                const payload = {
                    base64: base64Data,
                    type: file.type,
                    name: file.name
                };

                fetch(SCRIPT_URL, {
                    method: "POST",
                    body: JSON.stringify(payload)
                })
                .then(res => res.json())
                .then(data => {
                    if(data.result === "success") {
                        status.innerText = "Foto enviada com sucesso!";
                    } else {
                        status.innerText = "Erro: " + data.error;
                    }
                })
                .catch(err => {
                    status.innerText = "Erro na conex√£o.";
                    console.error(err);
                });
            };
            reader.readAsDataURL(file);
        }
    </script>
</body>
</html>
